function inRange(e,n,r){return n<=e&&e<=r}function div(e,n){return Math.floor(e/n)}function ByteInputStream(e){var n=0;this.get=function(){return n>=e.length?EOF_byte:Number(e[n])},this.offset=function(r){if((n+=r)<0)throw new Error("Seeking past start of the buffer");if(n>e.length)throw new Error("Seeking past EOF")},this.match=function(r){if(r.length>n+e.length)return!1;var i;for(i=0;i<r.length;i+=1)if(Number(e[n+i])!==r[i])return!1;return!0}}function ByteOutputStream(e){var n=0;this.emit=function(r){var i,t=EOF_byte;for(i=0;i<arguments.length;++i)t=Number(arguments[i]),e[n++]=t;return t}}function CodePointInputStream(e){var n=0,r=function(e){for(var n=[],r=0,i=e.length;r<e.length;){var t=e.charCodeAt(r);if(inRange(t,55296,57343))if(inRange(t,56320,57343))n.push(65533);else if(r===i-1)n.push(65533);else{var o=e.charCodeAt(r+1);if(inRange(o,56320,57343)){var a=1023&t,c=1023&o;r+=1,n.push(65536+(a<<10)+c)}else n.push(65533)}else n.push(t);r+=1}return n}(e);this.offset=function(e){if((n+=e)<0)throw new Error("Seeking past start of the buffer");if(n>r.length)throw new Error("Seeking past EOF")},this.get=function(){return n>=r.length?EOF_code_point:r[n]}}function CodePointOutputStream(){var e="";this.string=function(){return e},this.emit=function(n){n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10&1023)),e+=String.fromCharCode(56320+(1023&n)))}}function EncodingError(e){this.name="EncodingError",this.message=e,this.code=0}function decoderError(e,n){if(e)throw new EncodingError("Decoder error");return n||65533}function encoderError(e){throw new EncodingError("The code point "+e+" could not be encoded.")}function getEncoding(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(label_to_encoding,e)?label_to_encoding[e]:null}function indexCodePointFor(e,n){return n?n[e]||null:null}function indexPointerFor(e,n){var r=n.indexOf(e);return-1===r?null:r}function _index_(e){if(!_encoding_indexes)throw new Error("Indexes missing. Did you forget to include encoding-indexes.js?");return _encoding_indexes[e]}function indexGB18030CodePointFor(e){if(e>39419&&e<189e3||e>1237575)return null;var n,r=0,i=0,t=_index_("gb18030");for(n=0;n<t.length;++n){var o=t[n];if(!(o[0]<=e))break;r=o[0],i=o[1]}return i+e-r}function indexGB18030PointerFor(e){var n,r=0,i=0,t=_index_("gb18030");for(n=0;n<t.length;++n){var o=t[n];if(!(o[1]<=e))break;r=o[1],i=o[0]}return i+e-r}function UTF8Decoder(e){var n=e.fatal,r=0,i=0,t=0,o=0;this.decode=function(e){var a=e.get();if(a===EOF_byte)return 0!==i?decoderError(n):EOF_code_point;if(e.offset(1),0===i){if(inRange(a,0,127))return a;if(inRange(a,194,223))i=1,o=128,r=a-192;else if(inRange(a,224,239))i=2,o=2048,r=a-224;else{if(!inRange(a,240,244))return decoderError(n);i=3,o=65536,r=a-240}return r*=Math.pow(64,i),null}if(!inRange(a,128,191))return r=0,i=0,t=0,o=0,e.offset(-1),decoderError(n);if(t+=1,r+=(a-128)*Math.pow(64,i-t),t!==i)return null;var c=r,d=o;return r=0,i=0,t=0,o=0,inRange(c,d,1114111)&&!inRange(c,55296,57343)?c:decoderError(n)}}function UTF8Encoder(e){e.fatal;this.encode=function(e,n){var r=n.get();if(r===EOF_code_point)return EOF_byte;if(n.offset(1),inRange(r,55296,57343))return encoderError(r);if(inRange(r,0,127))return e.emit(r);var i,t;inRange(r,128,2047)?(i=1,t=192):inRange(r,2048,65535)?(i=2,t=224):inRange(r,65536,1114111)&&(i=3,t=240);for(var o=e.emit(div(r,Math.pow(64,i))+t);i>0;){var a=div(r,Math.pow(64,i-1));o=e.emit(128+a%64),i-=1}return o}}function SingleByteDecoder(e,n){var r=n.fatal;this.decode=function(n){var i=n.get();if(i===EOF_byte)return EOF_code_point;if(n.offset(1),inRange(i,0,127))return i;var t=e[i-128];return null===t?decoderError(r):t}}function SingleByteEncoder(e,n){n.fatal;this.encode=function(n,r){var i=r.get();if(i===EOF_code_point)return EOF_byte;if(r.offset(1),inRange(i,0,127))return n.emit(i);var t=indexPointerFor(i,e);return null===t&&encoderError(i),n.emit(t+128)}}function GBKDecoder(e,n){var r=n.fatal,i=0,t=0,o=0;this.decode=function(n){var a=n.get();if(a===EOF_byte&&0===i&&0===t&&0===o)return EOF_code_point;a!==EOF_byte||0===i&&0===t&&0===o||(i=0,t=0,o=0,decoderError(r)),n.offset(1);var c;if(0!==o)return c=null,inRange(a,48,57)&&(c=indexGB18030CodePointFor(10*(126*(10*(i-129)+(t-48))+(o-129))+a-48)),i=0,t=0,o=0,null===c?(n.offset(-3),decoderError(r)):c;if(0!==t)return inRange(a,129,254)?(o=a,null):(n.offset(-2),i=0,t=0,decoderError(r));if(0!==i){if(inRange(a,48,57)&&e)return t=a,null;var d=i,s=null;i=0;var u=a<127?64:65;return(inRange(a,64,126)||inRange(a,128,254))&&(s=190*(d-129)+(a-u)),c=null===s?null:indexCodePointFor(s,_index_("gbk")),null===s&&n.offset(-1),null===c?decoderError(r):c}return inRange(a,0,127)?a:128===a?8364:inRange(a,129,254)?(i=a,null):decoderError(r)}}function GBKEncoder(e,n){n.fatal;this.encode=function(n,r){var i=r.get();if(i===EOF_code_point)return EOF_byte;if(r.offset(1),inRange(i,0,127))return n.emit(i);var t=indexPointerFor(i,_index_("gbk"));if(null!==t){var o=div(t,190)+129,a=t%190,c=a<63?64:65;return n.emit(o,a+c)}if(null===t&&!e)return encoderError(i);var d=div(div(div(t=indexGB18030PointerFor(i),10),126),10),s=div(div(t-=10*d*126*10,10),126),u=div(t-=10*s*126,10),f=t-10*u;return n.emit(d+129,s+48,u+129,f+48)}}function HZGB2312Decoder(e){var n=e.fatal,r=!1,i=0;this.decode=function(e){var t=e.get();if(t===EOF_byte&&0===i)return EOF_code_point;if(t===EOF_byte&&0!==i)return i=0,decoderError(n);if(e.offset(1),126===i)return i=0,123===t?(r=!0,null):125===t?(r=!1,null):126===t?126:10===t?null:(e.offset(-1),decoderError(n));if(0!==i){var o=i;i=0;var a=null;return inRange(t,33,126)&&(a=indexCodePointFor(190*(o-1)+(t+63),_index_("gbk"))),10===t&&(r=!1),null===a?decoderError(n):a}return 126===t?(i=126,null):r?inRange(t,32,127)?(i=t,null):(10===t&&(r=!1),decoderError(n)):inRange(t,0,127)?t:decoderError(n)}}function HZGB2312Encoder(e){e.fatal;var n=!1;this.encode=function(e,r){var i=r.get();if(i===EOF_code_point)return EOF_byte;if(r.offset(1),inRange(i,0,127)&&n)return r.offset(-1),n=!1,e.emit(126,125);if(126===i)return e.emit(126,126);if(inRange(i,0,127))return e.emit(i);if(!n)return r.offset(-1),n=!0,e.emit(126,123);var t=indexPointerFor(i,_index_("gbk"));if(null===t)return encoderError(i);var o=div(t,190)+1,a=t%190-63;return inRange(o,33,126)&&inRange(a,33,126)?e.emit(o,a):encoderError(i)}}function Big5Decoder(e){var n=e.fatal,r=0,i=null;this.decode=function(e){if(null!==i){var t=i;return i=null,t}var o=e.get();if(o===EOF_byte&&0===r)return EOF_code_point;if(o===EOF_byte&&0!==r)return r=0,decoderError(n);if(e.offset(1),0!==r){var a=r,c=null;r=0;var d=o<127?64:98;if((inRange(o,64,126)||inRange(o,161,254))&&(c=157*(a-129)+(o-d)),1133===c)return i=772,202;if(1135===c)return i=780,202;if(1164===c)return i=772,234;if(1166===c)return i=780,234;var s=null===c?null:indexCodePointFor(c,_index_("big5"));return null===c&&e.offset(-1),null===s?decoderError(n):s}return inRange(o,0,127)?o:inRange(o,129,254)?(r=o,null):decoderError(n)}}function Big5Encoder(e){e.fatal;this.encode=function(e,n){var r=n.get();if(r===EOF_code_point)return EOF_byte;if(n.offset(1),inRange(r,0,127))return e.emit(r);var i=indexPointerFor(r,_index_("big5"));if(null===i)return encoderError(r);var t=div(i,157)+129,o=i%157,a=o<63?64:98;return e.emit(t,o+a)}}function EUCJPDecoder(e){var n=e.fatal,r=0,i=0;this.decode=function(e){var t=e.get();if(t===EOF_byte)return 0===r&&0===i?EOF_code_point:(r=0,i=0,decoderError(n));e.offset(1);var o,a;return 0!==i?(o=i,i=0,a=null,inRange(o,161,254)&&inRange(t,161,254)&&(a=indexCodePointFor(94*(o-161)+t-161,_index_("jis0212"))),inRange(t,161,254)||e.offset(-1),null===a?decoderError(n):a):142===r&&inRange(t,161,223)?(r=0,65377+t-161):143===r&&inRange(t,161,254)?(r=0,i=t,null):0!==r?(o=r,r=0,a=null,inRange(o,161,254)&&inRange(t,161,254)&&(a=indexCodePointFor(94*(o-161)+t-161,_index_("jis0208"))),inRange(t,161,254)||e.offset(-1),null===a?decoderError(n):a):inRange(t,0,127)?t:142===t||143===t||inRange(t,161,254)?(r=t,null):decoderError(n)}}function EUCJPEncoder(e){e.fatal;this.encode=function(e,n){var r=n.get();if(r===EOF_code_point)return EOF_byte;if(n.offset(1),inRange(r,0,127))return e.emit(r);if(165===r)return e.emit(92);if(8254===r)return e.emit(126);if(inRange(r,65377,65439))return e.emit(142,r-65377+161);var i=indexPointerFor(r,_index_("jis0208"));if(null===i)return encoderError(r);var t=div(i,94)+161,o=i%94+161;return e.emit(t,o)}}function ISO2022JPDecoder(e){var n=e.fatal,r={ASCII:0,escape_start:1,escape_middle:2,escape_final:3,lead:4,trail:5,Katakana:6},i=r.ASCII,t=!1,o=0;this.decode=function(e){var a=e.get();switch(a!==EOF_byte&&e.offset(1),i){default:case r.ASCII:return 27===a?(i=r.escape_start,null):inRange(a,0,127)?a:a===EOF_byte?EOF_code_point:decoderError(n);case r.escape_start:return 36===a||40===a?(o=a,i=r.escape_middle,null):(a!==EOF_byte&&e.offset(-1),i=r.ASCII,decoderError(n));case r.escape_middle:var c=o;return o=0,36!==c||64!==a&&66!==a?36===c&&40===a?(i=r.escape_final,null):40!==c||66!==a&&74!==a?40===c&&73===a?(i=r.Katakana,null):(a===EOF_byte?e.offset(-1):e.offset(-2),i=r.ASCII,decoderError(n)):(i=r.ASCII,null):(t=!1,i=r.lead,null);case r.escape_final:return 68===a?(t=!0,i=r.lead,null):(a===EOF_byte?e.offset(-2):e.offset(-3),i=r.ASCII,decoderError(n));case r.lead:return 10===a?(i=r.ASCII,decoderError(n,10)):27===a?(i=r.escape_start,null):a===EOF_byte?EOF_code_point:(o=a,i=r.trail,null);case r.trail:if(i=r.lead,a===EOF_byte)return decoderError(n);var d=null,s=94*(o-33)+a-33;return inRange(o,33,126)&&inRange(a,33,126)&&(d=!1===t?indexCodePointFor(s,_index_("jis0208")):indexCodePointFor(s,_index_("jis0212"))),null===d?decoderError(n):d;case r.Katakana:return 27===a?(i=r.escape_start,null):inRange(a,33,95)?65377+a-33:a===EOF_byte?EOF_code_point:decoderError(n)}}}function ISO2022JPEncoder(e){e.fatal;var n={ASCII:0,lead:1,Katakana:2},r=n.ASCII;this.encode=function(e,i){var t=i.get();if(t===EOF_code_point)return EOF_byte;if(i.offset(1),(inRange(t,0,127)||165===t||8254===t)&&r!==n.ASCII)return i.offset(-1),r=n.ASCII,e.emit(27,40,66);if(inRange(t,0,127))return e.emit(t);if(165===t)return e.emit(92);if(8254===t)return e.emit(126);if(inRange(t,65377,65439)&&r!==n.Katakana)return i.offset(-1),r=n.Katakana,e.emit(27,40,73);if(inRange(t,65377,65439))return e.emit(t-65377-33);if(r!==n.lead)return i.offset(-1),r=n.lead,e.emit(27,36,66);var o=indexPointerFor(t,_index_("jis0208"));if(null===o)return encoderError(t);var a=div(o,94)+33,c=o%94+33;return e.emit(a,c)}}function ShiftJISDecoder(e){var n=e.fatal,r=0;this.decode=function(e){var i=e.get();if(i===EOF_byte&&0===r)return EOF_code_point;if(i===EOF_byte&&0!==r)return r=0,decoderError(n);if(e.offset(1),0!==r){var t=r;if(r=0,inRange(i,64,126)||inRange(i,128,252)){var o=i<127?64:65,a=indexCodePointFor(188*(t-(t<160?129:193))+i-o,_index_("jis0208"));return null===a?decoderError(n):a}return e.offset(-1),decoderError(n)}return inRange(i,0,128)?i:inRange(i,161,223)?65377+i-161:inRange(i,129,159)||inRange(i,224,252)?(r=i,null):decoderError(n)}}function ShiftJISEncoder(e){e.fatal;this.encode=function(e,n){var r=n.get();if(r===EOF_code_point)return EOF_byte;if(n.offset(1),inRange(r,0,128))return e.emit(r);if(165===r)return e.emit(92);if(8254===r)return e.emit(126);if(inRange(r,65377,65439))return e.emit(r-65377+161);var i=indexPointerFor(r,_index_("jis0208"));if(null===i)return encoderError(r);var t=div(i,188),o=t<31?129:193,a=i%188,c=a<63?64:65;return e.emit(t+o,a+c)}}function EUCKRDecoder(e){var n=e.fatal,r=0;this.decode=function(e){var i=e.get();if(i===EOF_byte&&0===r)return EOF_code_point;if(i===EOF_byte&&0!==r)return r=0,decoderError(n);if(e.offset(1),0!==r){var t=r,o=null;if(r=0,inRange(t,129,198)){var a=178*(t-129);inRange(i,65,90)?o=a+i-65:inRange(i,97,122)?o=a+26+i-97:inRange(i,129,254)&&(o=a+26+26+i-129)}inRange(t,199,253)&&inRange(i,161,254)&&(o=12460+94*(t-199)+(i-161));var c=null===o?null:indexCodePointFor(o,_index_("euc-kr"));return null===o&&e.offset(-1),null===c?decoderError(n):c}return inRange(i,0,127)?i:inRange(i,129,253)?(r=i,null):decoderError(n)}}function EUCKREncoder(e){e.fatal;this.encode=function(e,n){var r=n.get();if(r===EOF_code_point)return EOF_byte;if(n.offset(1),inRange(r,0,127))return e.emit(r);var i=indexPointerFor(r,_index_("euc-kr"));if(null===i)return encoderError(r);var t,o;if(i<12460){t=div(i,178)+129;var a=(o=i%178)<26?65:o<52?71:77;return e.emit(t,o+a)}return i-=12460,t=div(i,94)+199,o=i%94+161,e.emit(t,o)}}function UTF16Decoder(e,n){var r=n.fatal,i=null,t=null;this.decode=function(n){var o=n.get();if(o===EOF_byte&&null===i&&null===t)return EOF_code_point;if(o===EOF_byte&&(null!==i||null!==t))return decoderError(r);if(n.offset(1),null===i)return i=o,null;var a;if(a=e?(i<<8)+o:(o<<8)+i,i=null,null!==t){var c=t;return t=null,inRange(a,56320,57343)?65536+1024*(c-55296)+(a-56320):(n.offset(-2),decoderError(r))}return inRange(a,55296,56319)?(t=a,null):inRange(a,56320,57343)?decoderError(r):a}}function UTF16Encoder(e,n){n.fatal;this.encode=function(n,r){function i(r){var i=r>>8,t=255&r;return e?n.emit(i,t):n.emit(t,i)}var t=r.get();if(t===EOF_code_point)return EOF_byte;if(r.offset(1),inRange(t,55296,57343)&&encoderError(t),t<=65535)return i(t);var o=(t-65536)%1024+56320;return i(div(t-65536,1024)+55296),i(o)}}function detectEncoding(e,n){return n.match([255,254])?(n.offset(2),"utf-16le"):n.match([254,255])?(n.offset(2),"utf-16be"):n.match([239,187,191])?(n.offset(3),"utf-8"):e}function ATextEncoder(e,n){if(e=e?String(e):DEFAULT_ENCODING,n=Object(n),this._encoding=getEncoding(e),null===this._encoding)throw new TypeError("Unknown encoding: "+e);return this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(n.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this}function ATextDecoder(e,n){if(e=e?String(e):DEFAULT_ENCODING,n=Object(n),this._encoding=getEncoding(e),null===this._encoding)throw new TypeError("Unknown encoding: "+e);return this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._options={fatal:Boolean(n.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this}var EOF_byte=-1,EOF_code_point=-1;EncodingError.prototype=Error.prototype;var encodings=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"iso-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"iso-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"iso-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"iso-8859-8-i"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"iso-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","iso-2022-kr","iso-2022-cn","iso-2022-cn-ext"],name:"replacement"},{labels:["utf-16be"],name:"utf-16be"},{labels:["utf-16","utf-16le"],name:"utf-16le"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],name_to_encoding={},label_to_encoding={};encodings.forEach(function(e){e.encodings.forEach(function(e){name_to_encoding[e.name]=e,e.labels.forEach(function(n){label_to_encoding[n]=e})})}),name_to_encoding["utf-8"].getEncoder=function(e){return new UTF8Encoder(e)},name_to_encoding["utf-8"].getDecoder=function(e){return new UTF8Decoder(e)},encodings.forEach(function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach(function(e){var n=_index_(e.name);e.getDecoder=function(e){return new SingleByteDecoder(n,e)},e.getEncoder=function(e){return new SingleByteEncoder(n,e)}})}),name_to_encoding.gbk.getEncoder=function(e){return new GBKEncoder(!1,e)},name_to_encoding.gbk.getDecoder=function(e){return new GBKDecoder(!1,e)},name_to_encoding.gb18030.getEncoder=function(e){return new GBKEncoder(!0,e)},name_to_encoding.gb18030.getDecoder=function(e){return new GBKDecoder(!0,e)},name_to_encoding["hz-gb-2312"].getEncoder=function(e){return new HZGB2312Encoder(e)},name_to_encoding["hz-gb-2312"].getDecoder=function(e){return new HZGB2312Decoder(e)},name_to_encoding.big5.getEncoder=function(e){return new Big5Encoder(e)},name_to_encoding.big5.getDecoder=function(e){return new Big5Decoder(e)},name_to_encoding["euc-jp"].getEncoder=function(e){return new EUCJPEncoder(e)},name_to_encoding["euc-jp"].getDecoder=function(e){return new EUCJPDecoder(e)},name_to_encoding["iso-2022-jp"].getEncoder=function(e){return new ISO2022JPEncoder(e)},name_to_encoding["iso-2022-jp"].getDecoder=function(e){return new ISO2022JPDecoder(e)},name_to_encoding.shift_jis.getEncoder=function(e){return new ShiftJISEncoder(e)},name_to_encoding.shift_jis.getDecoder=function(e){return new ShiftJISDecoder(e)},name_to_encoding["euc-kr"].getEncoder=function(e){return new EUCKREncoder(e)},name_to_encoding["euc-kr"].getDecoder=function(e){return new EUCKRDecoder(e)},name_to_encoding["utf-16le"].getEncoder=function(e){return new UTF16Encoder(!1,e)},name_to_encoding["utf-16le"].getDecoder=function(e){return new UTF16Decoder(!1,e)},name_to_encoding["utf-16be"].getEncoder=function(e){return new UTF16Encoder(!0,e)},name_to_encoding["utf-16be"].getDecoder=function(e){return new UTF16Decoder(!0,e)};var DEFAULT_ENCODING="utf-8";ATextEncoder.prototype={encode:function(e,n){e=e?String(e):"",n=Object(n),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(n.stream);for(var r=[],i=new ByteOutputStream(r),t=new CodePointInputStream(e);t.get()!==EOF_code_point;)this._encoder.encode(i,t);if(!this._streaming){var o;do{o=this._encoder.encode(i,t)}while(o!==EOF_byte);this._encoder=null}return new Uint8Array(r)}},ATextDecoder.prototype={decode:function(e,n){if(e&&!("buffer"in e&&"byteOffset"in e&&"byteLength"in e))throw new TypeError("Expected ArrayBufferView");e||(e=new Uint8Array(0)),n=Object(n),this._streaming||(this._decoder=this._encoding.getDecoder(this._options),this._BOMseen=!1),this._streaming=Boolean(n.stream);for(var r,i=new ByteInputStream(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),t=new CodePointOutputStream;i.get()!==EOF_byte;)null!==(r=this._decoder.decode(i))&&r!==EOF_code_point&&t.emit(r);if(!this._streaming){do{null!==(r=this._decoder.decode(i))&&r!==EOF_code_point&&t.emit(r)}while(r!==EOF_code_point&&i.get()!=EOF_byte);this._decoder=null}var o=t.string();return!this._BOMseen&&o.length&&(this._BOMseen=!0,-1!==["utf-8","utf-16le","utf-16be"].indexOf(this.encoding)&&65279===o.charCodeAt(0)&&(o=o.substring(1))),o}};